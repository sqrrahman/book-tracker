<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>My Library (with backend)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <!-- cache-bust JS -->
    <script defer src="script.js?v=2"></script>
  </head>
  <body>
    <div class="page">
      <header class="topbar">
        <h1 class="title">MY LIBRARY</h1>
        <!-- burger icon -->
        <button id="burgerBtn" class="burger-btn" aria-label="Librarian menu">
          &#9776;
        </button>
        <p class="subtitle">Books are stored in GitHub now.</p>
      </header>

      <div class="tabs-row">
        <button class="tab active" data-tab="books">Books</button>
        <button class="tab" data-tab="quotes">Quotes</button>
        <a class="small-link" href="about.html">About</a>
      </div>

      <!-- BOOKS PANEL -->
      <section class="panel active" id="booksPanel">
        <div class="books-list" id="booksList"></div>
      </section>

      <!-- QUOTES PANEL -->
      <section class="panel" id="quotesPanel">
        <p class="empty-text">Quotes not connected to backend yet.</p>
      </section>

      <!-- Librarian main modal -->
      <div class="modal-backdrop" id="librarianBackdrop">
        <div class="modal modal-librarian">
          <h2>Librarian</h2>
          <div class="librarian-grid">
            <button class="librarian-btn add-btn-lite" id="libAddBtn">Add</button>
            <button class="librarian-btn remove-btn-lite" id="libRemoveBtn">Remove</button>
            <button class="librarian-btn rename-btn-lite" id="libRenameBtn">Rename</button>
            <button class="librarian-btn sort-btn-lite" id="libSortBtn">Sort</button>
          </div>
          <div class="modal-actions">
            <button class="btn-secondary" id="libCloseBtn">Cancel</button>
          </div>
        </div>
      </div>

      <!-- Add Books modal -->
      <div class="modal-backdrop" id="addBooksBackdrop">
        <div class="modal modal-add-books">
          <h2>Add Books</h2>
          <p class="small-muted">Enter titles (one per line, empty lines ignored):</p>
          <textarea id="addBooksTextarea" rows="10" placeholder="Book 1&#10;Book 2&#10;Book 3"></textarea>
          <div class="modal-actions modal-actions-space">
            <button class="btn-secondary" id="addBooksCancel">Cancel</button>
            <button class="btn-primary" id="addBooksSave">Add</button>
          </div>
          <p id="addBooksMsg" class="small-msg"></p>
        </div>
      </div>

      <!-- Remove Books modal -->
      <div class="modal-backdrop" id="removeBooksBackdrop">
        <div class="modal modal-remove-books">
          <h2>Remove Books</h2>
          <p class="small-muted">Enter book numbers separated by commas:</p>
          <input type="text" id="removeBooksInput" placeholder="e.g. 2,5,6" />
          <div class="modal-actions modal-actions-space">
            <button class="btn-secondary" id="removeBooksCancel">Cancel</button>
            <button class="btn-primary" id="removeBooksNext">Next</button>
          </div>
          <p id="removeBooksMsg" class="small-msg"></p>
        </div>
      </div>

      <!-- Confirm Delete modal -->
      <div class="modal-backdrop" id="confirmDeleteBackdrop">
        <div class="modal modal-confirm-delete">
          <h2>Confirm Deletion</h2>
          <ul id="confirmDeleteList" class="qw-list"></ul>
          <div class="modal-actions modal-actions-space">
            <button class="btn-secondary" id="confirmDeleteCancel">Cancel</button>
            <button class="btn-primary" id="confirmDeleteConfirm">Delete</button>
          </div>
        </div>
      </div>

      <!-- Rename modal -->
      <div class="modal-backdrop" id="renameBackdrop">
        <div class="modal modal-rename">
          <h2>Rename Book</h2>
          <label class="small-muted">Book number:</label>
          <input type="number" id="renameNumber" min="1" placeholder="e.g. 3" />
          <button class="btn-primary" id="renameLoadBtn">Okay</button>
          <div id="renameEditSection" style="display:none; margin-top:10px;">
            <p class="small-muted" id="renameCurrentTitle"></p>
            <input type="text" id="renameNewTitle" placeholder="New title" />
            <div class="modal-actions modal-actions-space">
              <button class="btn-secondary" id="renameCancelBtn">Cancel</button>
              <button class="btn-primary" id="renameSaveBtn">Save</button>
            </div>
            <p id="renameMsg" class="small-msg"></p>
          </div>
        </div>
      </div>

      <!-- Sort modal -->
      <div class="modal-backdrop" id="sortBackdrop">
        <div class="modal modal-sort">
          <h2>Sort</h2>
          <p class="small-muted">Sorting options coming soon.</p>
          <div class="modal-actions">
            <button class="btn-secondary" id="sortCloseBtn">Close</button>
          </div>
        </div>
      </div>

      <footer class="footer">
        <p>Hosted on GitHub Pages Â· Data stored in GitHub via backend</p>
      </footer>
    </div>
  </body>
</html>
